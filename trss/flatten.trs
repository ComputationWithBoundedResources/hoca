
(STRATEGY
    INNERMOST)

(VAR
    x7 x9 x11 x13 x3 x1 x5 x2)
(RULES
    cons_x[1](x7,x9) -> Cons(x7,x9)
    comp_f_g[1](comp_f_g(x11,x13),walk_cond(Leaf(x7)),x9) ->
      comp_f_g[1](x11,x13,Cons(x7,x9))
    comp_f_g[1](comp_f_g(x9,x11),walk_cond(Node(x3,x1)),x5) ->
      comp_f_g[1](x9,x11,comp_f_g[1](walk[1](x3),walk[1](x1),x5))
    comp_f_g[1](comp_f_g(x9,x11),comp_f_g(x5,x7),x3) ->
      comp_f_g[1](x9,x11,comp_f_g[1](x5,x7,x3))
    comp_f_g[1](comp_f_g(x11,x13),cons_x(x7),x9) -> comp_f_g[1](x11
                                                               ,x13
                                                               ,Cons(x7,x9))
    comp_f_g[1](cons_x(x11),walk_cond(Leaf(x7)),x9) -> Cons(x11,Cons(x7,x9))
    comp_f_g[1](cons_x(x7),walk_cond(Node(x3,x1)),x5) ->
      Cons(x7,comp_f_g[1](walk[1](x3),walk[1](x1),x5))
    comp_f_g[1](cons_x(x7),comp_f_g(x5,x9),x3) -> Cons(x7,comp_f_g[1](x5,x9,x3))
    comp_f_g[1](cons_x(x11),cons_x(x7),x9) -> Cons(x11,Cons(x7,x9))
    walk[1](Leaf(x7)) -> cons_x(x7)
    walk[2](Leaf(x7),x2) -> cons_x[1](x7,x2)
    walk[1](Node(x3,x1)) -> comp_f_g(walk[1](x3),walk[1](x1))
    walk[2](Node(x3,x1),x2) -> comp_f_g[1](walk[1](x3),walk[1](x1),x2)
    main(x1) -> walk[2](x1,Nil()))
(COMMENT
    Types are as follows: 
      Cons :: [A,B] -> B
      Leaf :: [A] -> D
      Nil :: B
      Node :: [D,D] -> D
      comp_f_g :: [C,C] -> C
      cons_x :: [A] -> C
      walk_cond :: [D] -> C
      main :: [D] -> B
      comp_f_g[1] :: [C,C,B] -> B
      walk[1] :: [D] -> C
      cons_x[1] :: [A,B] -> B
      walk[2] :: [D,B] -> B 
)
